# 섹션 7. 보조기억장치

## 다양한 보조기억장치

하드디스크, 플래시 메모리(SSD, USB 등)…

비휘발성 기억장치

### 하드디스크

**자기적인 방식**으로 데이터를 저장

자기 디스크의 일종이라고 하기도 한다.

![하드디스크의 구조](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled.png)

하드디스크의 구조

**플래터**

- 수많은 N극과 S극으로 데이터가 저장되는 곳
- 여러겹으로 존재
- 일반적으로 양면 모두 사용

**스핀들**

- 플래터를 회전시켜 주는 부품

**RPM**

- 분당 회전수

**헤드**

- 플래터를 회전시킬 때 자기적인 물질로 덮인 플래터를 읽고 쓰는 부품
- 플래터의 면마다 다 붙어있다.

**디스크 암**

- 헤드를 움직이게 해주는 부품

### 하드디스크 - 저장 단위

![Untitled](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%201.png)

**트랙**

- 플래터를 이루고 있는 동심원들을 이르는 저장 단위

**섹터**

- 트랙의 일부를 분할한 단위
- 512 byte ~ 4096 byte

**블록**

- 하나 이상의 섹터를 묶은 표현

**실린더**

- 같은 트랙이 위치한 여러 겹의 플래터를 모아 연결한 논리적 단위
- 보통 연속된 정보는 한 실린더에 기록

⇒ 동일 실린더에 기록하면 헤드를 움직이지 않고 한 번에 읽는 것이 가능하기 때문(헤드는 보통 따로따로 움직이는것이 아닌 한꺼번에 다 움직임)

### 하드 디스크 - 데이터 접근 과정

하드 디스크가 저장된 데이터에 접근하는 시간 요소

- **탐색 시간**
    - 접근하려는 데이터가 저장된 **트랙까지 헤드를 이동**시키는 시간
- **회전 지연**
    - 이동된 헤드로 **플래터를 회전**시키는 시간
- **전송 시간**
    - 하드 디스크와 컴퓨터 간 **데이터를 전송**하는 시간

![컴퓨터 내부의 데이터 전송 시간에 비해 압도적으로 느린 하드디스크 속도를 나타내는 표](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%202.png)

컴퓨터 내부의 데이터 전송 시간에 비해 압도적으로 느린 하드디스크 속도를 나타내는 표

### 플래시 메모리

**전기적**으로 데이터를 읽고 쓰는 **반도체 기반** 저장 장치

넓은 범용성으로 보조기억장치에만 속한다고 보기는 어렵다. (ROM에서도 많이 사용해서…)

![플래시 메모리의 구조](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%203.png)

플래시 메모리의 구조

### 플래시 메모리 - 종류

- **NAND 플래시 메모리**
    - 오늘날 주로 사용하는 플래시 메모리
    - NAND 연산 기반
- **NOR 플래시 메모리**

이 강의에서는 NAND 플래시 메모리만 다룬다.

### 플래시 메모리 - 저장 단위

**셀**

- 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
- 이 셀이 모여서 MB, GB, TB 저장 장치가 된다.
- 한 셀에 1비트 저장 → **SLC**
    - 한 집에 한 명이 생활하는 구조로 비유
    - 한 셀로 두 개의 정보만 표현
    - **비트의 빠른 입출력**
    - **긴 수명**
    - **용량 대비 고가격**
- 한 셀에 2비트 저장 → **MLC**
    - 한 집에 두 명이 사는 구조로 비유
    - 한 셀로 4 개의 정보 표현(**대용량화 유리**)
    - **SLC보다 느린 입출력**
    - **SLC보다 짧은 수명**
    - **SLC보다 저렴**
    - 시중에서 많이 사용(MLC, TLC, QLC 모두 마찬가지)
- 한 셀에 3비트 저장 → **TLC**
    - 한 집에 세 명이 사는 구조로 비유
    - 한 셀로 8 개의 정보 표현(**대용량화 유리**)
    - **MLC보다 느린 입출력**
    - **MLC보다 짧은 수명**
    - **MLC보다 저렴**
- 한 셀에 4비트 저장 → QLC

**페이지**

- 셀의 모임
- 페이지의 상태
    - **FREE 상태**
        - 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
    - **VALID 상태**
        - 이미 유효한 데이터를 저장하고 있는 상태
    - **INVALID 상태**
        - 유효하지 않은 데이터(쓰레기값)을 저장하고 있는 상태
        - 플래시 메모리는 하드 디스크와 달리 덮어쓰기가 불가능!
    - **동작 방식 - 가비지 컬렉션**
        - INVALID 상태 페이지로 인해 불필요한 쓰레기 값이 많이 차지하면 심한 용량 낭비!
        - 유효한(VALID 상태) 페이지들만을 새로운 블록으로 복사 후 기존의 블록을 삭제

**블록**

- 페이지의 모임

**플레인**

- 블록의 모임

**다이**

- 플레인의 모임

<aside>
❗ 플래시 메모리에서 읽기/쓰기 단위와 삭제 단위는 별개!
**읽기 및 쓰기는 페이지 단위**
**삭제는 페이지보다 큰 블록 단위**

</aside>

## RAID의 정의와 종류

1TB 하드 디스크 4개를 RAID로 구성 VS 4TB 하드 디스크 1개 사용

⇒ 전자가 성능과 안전성 높음!

### RAID의 정의

- 하드 디스크와 SSD로 사용하는 기술
- **데이터의 안전성 혹은 높은 성능을 위해 여러 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치**처럼 사용하는 기술

### RAID 레벨

- RAID를 구성하는 기술
- RAID 0, RAID 1, RAID 2, RAID 3, RAID 4, RAID 5, RAID 6
    - **RAID 0**
        - 데이터를 단순히 나누어 저장하는 구성 방식
        - 각 하드 디스크는 번갈아 가며 데이터 저장
        - 저장되는 데이터가 하드 디스크 개수 만큼 나뉘어 저장
        - 스트라이프: 마치 줄무늬처럼 분산되어 정된 데이터
        - 스트라이핑: 분산하여 저장하는 것
        - 장점: **입출력 속도 향상**
        - 단점: 저장된 정보가 **안전하지 않음**(하나가 고장나면 다 문제!)
        
        ![RAID0](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%204.png)
        
        RAID0
        
    - **RAID 1**
        - **미러링**
        - 데이터를 쓸 때 원본과 복사본에 모두 쓰기(느린 쓰기 속도)
        - 장점: **백업과 복구의 용이, 안전성의 증가**
        - 단점: 하드 디스크 개수가 한정되었을 때 사용 가능한 **용량이 적어짐** → **비용 증가**의 원인
        
        ![RAID1](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%205.png)
        
        RAID1
        
    - **RAID 4**
        - RAID1 처럼 완전한 복사본을 생성하는 것이 아닌 **오류를 검출하고 복구하기 위한 정보(= 패리티 비트)**를 저장
        - 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고 오류가 있다면 복구
        - 단점: 다른 디스크에 입출력이 일어날 때마다 잦은 업데이트로 **패리티 디스크에 병목 현상**이 일어날 가능성
        
        ![RAID4](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%206.png)
        
        RAID4
        
    - **RAID 5**
        - RAID 4를 개선한 방식
        - **패리티 정보를 분산하여 저장**
        - 병목 현상의 완화
            
            ![RAID5](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%207.png)
            
            RAID5
            
    - **RAID 6**
        - **두 종류의 패리티**(오류를 검출하고 복구할 수 있는 수단)
        - RAID 5보다 **안전**
        - RAID 5보다 **느린 쓰기 속도**(패리티가 2개기 때문…)
        
        ![RAID6](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%207%20%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A9%E1%84%80%E1%85%B5%E1%84%8B%E1%85%A5%E1%86%A8%E1%84%8C%E1%85%A1%E1%86%BC%E1%84%8E%E1%85%B5%208aa822c1b525463ba293467aa0c19d2f/Untitled%208.png)
        
        RAID6
        
- 그로부터 파생된 RAID 10, …

각 RAID 레벨마다 장단점이 있기에, 최적의 RAID 레벨은 상황마다 다르다! RAID 레벨의 대략적 구성과 특징을 아는 것이 중요!