# 섹션 9. 운영체제 시작하기

## 운영체제를 알아야 하는 이유

### 운영체제

윈도우, 안드로이드, 리눅스 등…

모든 프로그램은 실행을 위해 리소스를 필요로 한다.

**리소스/시스템 자원**

- 프로그램 실행에 있어 마땅히 필요한 요소
- 컴퓨터의 네 가지 핵심 부품 포함
- 하드웨어 뿐만이 아니라 다양한 것이 포함

**운영체제의 역할**

- 실행할 프로그램에 필요한 자원을 할당
- 프로그램이 올바르게 실행되도록 도움을 줌
- **특별한 프로그램**
    - 프로그램이기에 **메모리에 저장**
    - 단, 중요한 내역이라 **커널 영역**이라는 별도의 적재 공간에 저장
    - 그 외는 사용자 영역(일반적으로 사용하는 응용프로그램들이 저장)
- 메모리 관리

![운영체제의 메모리 관리](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%209%20%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%A6%20%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%20b3680e40d6d04e12aaf5d0573487c9c5/Untitled.png)

운영체제의 메모리 관리

- CPU 관리
    - CPU는 동시에 일괄적으로 프로그램을 동작시키는 것이 아닌 매우 빠른 속도로 번갈아 실행
    - 어떤 프로그램을 먼저 시작할 지 우선 순위 등을 결정

![운영체제의 CPU 관리 ](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%209%20%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%A6%20%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%20b3680e40d6d04e12aaf5d0573487c9c5/Untitled%201.png)

운영체제의 CPU 관리 

- 입출력장치 관리
- etc…
- 하드웨어와 응용 프로그램 사이에서 효율적인 관리

## 운영체제의 큰 그림

운영체제는 현존하는 프로그램 중 규모가 가장 큰 프로그램 중 하나

⇒ 제공하는 기능 또한 방대

하지만, **가장 핵심적인 서비스**가 존재

ex) 자원에 접근하고 조작, 프로그램을 올바르게 실행, …

### 커널

**운영체제의 핵심 서비스를 담당하는 부분**

<aside>
❗ 운영체제에 속하는데 커널에 속하지 않는 기능?
⇒ **유저 인터페이스**(UI)
사용자와 컴퓨터 간의 통로
그래픽 유저 인터페이스 & 커맨드 라인 인터페이스

</aside>

![커널의 위치](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%209%20%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%A6%20%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%20b3680e40d6d04e12aaf5d0573487c9c5/Untitled%202.png)

커널의 위치

### 이중모드와 시스템 호출

사용자가 실행하는 프로그램은 자원에 직접 접근이 가능?

⇒ NO! 위험!

⇒ 운영체제는 응용 프로그램들이 자원에 접근하려 할 때 **오직 자신을 통해서만 접근**하도록 해 **자원을 보호**

⇒ 이러한 자원 접근 제한은 **이중모드**를 통해 이루어짐

**이중 모드**

- CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식
- **사용자 모드**
    - 운영체제 서비스를 **제공받을 수 없는(=자원 접근 불가)** 실행 모드
    - 커널 영역의 코드를 실행할 수 없는 실행 모드
    - 자원 접근 불가
- **커널 모드**
    - 운영체제의 서비스를 **제공받을 수 있는** 실행 모드
    - 자원 접근을 비롯한 모든 명령어 실행 가능
- 플래그 레지스터 중 **슈퍼바이터 플래그**를 통해 커널 모드(값: 1) 인지 사용자 모드(값: 0) 인지 구분
- 사용자 모드에서 커널 모드로의 전환 방법
    - **시스템 호출**(= 시스템 콜)
        - 커널 모드로 전환하여 실행하기 위한 호출
        - 일종의 **소프트웨어 인터럽트(하드웨어 인터럽트 처리 방식과 유사)**
        
        ![시스템 호출](%E1%84%89%E1%85%A6%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%209%20%E1%84%8B%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%A7%E1%86%BC%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%A6%20%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%20b3680e40d6d04e12aaf5d0573487c9c5/Untitled%203.png)
        
        시스템 호출
        

### 운영체제의 핵심 서비스

- **프로세스 관리**
    - 프로세스 == **실행 중인 프로그램**
    - 테스크라고도 함
    - 수많은 프로세스들 동시 실행(작업 관리자를 확인해보자!)
    - **페이징 & 스와핑**을 통해 모든 프로세스가 굳이 메모리에 안 올라오게, 적재하지 않게 할 수 있다(후반 강의에 나올 개념)
    - 동시다발적으로 생성/실행/삭제되는 다양한 **프로세스를 관리**(후반 강의)
        - 프로세스와 스레드
        - 프로세스 동기화
        - 교착상태 해결
- **자원 접근 및 할당**
    - CPU 접근 및 할당
        - **CPU 스케줄링:** 어떤 프로세스를 먼저, 얼마나 오래 실행할까? (후반 강의)
    - 메모리 접근 및 할당
        - **페이징, 스와핑**
    - 입출력장치 접근 및 할당
        - 인터럽트 서비스 루틴 (이전 섹션의 내용)
- **파일 시스템 관리**
    - 관련된 정보를 파일이라는 단위로 저장 장치에 보관
    - 파일을 묶어 폴더(디렉토리) 단위로 저장